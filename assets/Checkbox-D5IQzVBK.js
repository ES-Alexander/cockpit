import{c as L,y as w,J as y,r as M,w as v,o as C,aM as D,h as x,l as g,m as V,s as W,H as T,v as o,t as F,x as b,S,N as E,aN as O,a9 as U,aJ as N,a1 as c}from"./index-BllpJpx5.js";const _={key:0,class:"mr-3 mb-[3px] text-white"},B=L({__name:"Checkbox",props:{miniWidget:{}},setup(k){const e=w(),a=y(k).miniWidget,i=M(!1);let s;const f=()=>{var t;e.editingMode||!((t=a.value.options.dataLakeVariable)!=null&&t.allowUserToChangeValue)||(e.setMiniWidgetLastValue(a.value.hash,i.value),O(a.value.options.dataLakeVariable.id,i.value))};v(()=>e.miniWidgetManagerVars(a.value.hash).configMenuOpen,t=>{t===!0&&(e.showElementPropsDrawer(a.value.hash),setTimeout(()=>{e.miniWidgetManagerVars(a.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const n=()=>{a.value.options.dataLakeVariable&&(s=U(a.value.options.dataLakeVariable.id,t=>{i.value=t}),i.value=N(a.value.options.dataLakeVariable.id))};return v(()=>{var t;return(t=a.value.options.dataLakeVariable)==null?void 0:t.id},(t,l)=>{l&&s&&c(l,s),t&&n()}),C(()=>{(!a.value.options||Object.keys(a.value.options).length===0)&&(a.value.isCustomElement=!0,e.updateElementOptions(a.value.hash,{layout:{label:"",align:"center",color:"#FFFFFF"},variableType:"boolean",dataLakeVariable:void 0})),a.value.options.dataLakeVariable?(a.value.options.dataLakeVariable.allowUserToChangeValue||D({...a.value.options.dataLakeVariable,allowUserToChangeValue:!0}),n()):i.value=e.getMiniWidgetLastValue(a.value.hash)}),x(()=>{a.value.options.dataLakeVariable&&s&&c(a.value.options.dataLakeVariable.id,s)}),(t,l)=>{var r,u,d,p,h;return V(),g("div",{class:b(["flex items-center h-[30px]",((r=o(e).elementToShowOnDrawer)==null?void 0:r.hash)===o(a).hash&&o(e).editingMode?"bg-[#00000010] ":"border-0"]),style:E({justifyContent:(u=o(a).options.layout)==null?void 0:u.align}),onClick:l[1]||(l[1]=m=>o(e).editingMode&&o(e).showElementPropsDrawer(o(a).hash))},[((d=o(a).options.layout)==null?void 0:d.label)!==""?(V(),g("p",_,F((p=o(a).options.layout)==null?void 0:p.label),1)):W("",!0),T(S,{modelValue:i.value,"onUpdate:modelValue":[l[0]||(l[0]=m=>i.value=m),f],"hide-details":"",color:(h=o(a).options.layout)==null?void 0:h.color,class:b(["text-white",{"pointer-events-none":o(e).editingMode}]),theme:"dark"},null,8,["modelValue","color","class"])],6)}}});export{B as default};
