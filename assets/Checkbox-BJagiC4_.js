import{c as w,y,J as C,r as M,w as V,o as D,aM as x,h as T,l as b,m as g,s as W,H as F,v as l,t as S,x as c,S as U,N as E,aN as O,a9 as N,aJ as _,a1 as k}from"./index-CccD1C_N.js";const j={key:0,class:"mr-3 mb-[3px] text-white"},J=w({__name:"Checkbox",props:{miniWidget:{}},setup(f){const e=y(),a=C(f).miniWidget,o=M(!1);let s;const L=()=>{var t;e.editingMode||!((t=a.value.options.dataLakeVariable)!=null&&t.allowUserToChangeValue)||(e.setMiniWidgetLastValue(a.value.hash,o.value),O(a.value.options.dataLakeVariable.id,o.value))};V(()=>e.miniWidgetManagerVars(a.value.hash).configMenuOpen,t=>{t===!0&&(e.showElementPropsDrawer(a.value.hash),setTimeout(()=>{e.miniWidgetManagerVars(a.value.hash).configMenuOpen=!1},200))},{immediate:!0,deep:!0});const n=()=>{a.value.options.dataLakeVariable&&(s=N(a.value.options.dataLakeVariable.id,t=>{o.value=t}),o.value=_(a.value.options.dataLakeVariable.id))};return V(()=>{var t;return(t=a.value.options.dataLakeVariable)==null?void 0:t.id},(t,i)=>{i&&s&&k(i,s),t&&n()}),D(()=>{(!a.value.options||Object.keys(a.value.options).length===0)&&(a.value.isCustomElement=!0,e.updateElementOptions(a.value.hash,{layout:{label:"",align:"center",color:"#FFFFFF"},variableType:"boolean",dataLakeVariable:void 0})),a.value.options.dataLakeVariable?(a.value.options.dataLakeVariable.allowUserToChangeValue||x({...a.value.options.dataLakeVariable,allowUserToChangeValue:!0}),n()):o.value=e.getMiniWidgetLastValue(a.value.hash)}),T(()=>{a.value.options.dataLakeVariable&&s&&k(a.value.options.dataLakeVariable.id,s)}),(t,i)=>{var r,u,d,p,h,v;return g(),b("div",{class:c(["flex items-center h-[30px]",((r=l(e).elementToShowOnDrawer)==null?void 0:r.hash)===l(a).hash&&l(e).editingMode?"bg-[#00000010] ":"border-0"]),style:E({justifyContent:(u=l(a).options.layout)==null?void 0:u.align}),onClick:i[1]||(i[1]=m=>l(e).editingMode&&l(e).showElementPropsDrawer(l(a).hash))},[((d=l(a).options.layout)==null?void 0:d.label)!==""?(g(),b("p",j,S((p=l(a).options.layout)==null?void 0:p.label),1)):W("",!0),F(U,{modelValue:o.value,"onUpdate:modelValue":[i[0]||(i[0]=m=>o.value=m),L],disabled:!((h=l(a).value.options.dataLakeVariable)!=null&&h.allowUserToChangeValue),"hide-details":"",color:(v=l(a).options.layout)==null?void 0:v.color,class:c(["text-white",{"pointer-events-none":l(e).editingMode}]),theme:"dark"},null,8,["modelValue","disabled","color","class"])],6)}}});export{J as default};
